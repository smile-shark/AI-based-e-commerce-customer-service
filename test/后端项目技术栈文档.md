# 后端项目技术栈文档

## 项目概述
AI电商客服系统后端项目，使用Spring Boot框架构建，集成了AI大语言模型和向量数据库，支持智能客服功能。

## 核心技术栈

### 1. 基础框架
- **Spring Boot 3.3.13**: 项目基础框架，提供快速开发能力
- **Spring Web**: Web层框架，处理HTTP请求
- **Spring WebSocket**: 实现实时双向通信，用于聊天功能
- **Spring Data Redis**: Redis数据访问框架，用于会话管理和缓存

### 2. 数据库技术
- **MySQL**: 主关系型数据库，版本8.0.33
- **MyBatis-Plus**: ORM框架，增强数据库操作能力
- **Redis**: 内存数据库，用于会话管理和缓存

### 3. AI与向量数据库技术
- **Spring AI**: AI集成框架，提供统一的AI服务接口
- **Spring AI Alibaba (DashScope)**: 阿里云通义千问大模型集成
  - 聊天模型: qwen-plus
  - 向量模型: text-embedding-v4
- **Milvus**: 向量数据库，用于存储和检索向量数据
- **RAG (Retrieval-Augmented Generation)**: 检索增强生成技术，提升AI回答准确性

### 4. 文档处理技术
- **PDF Document Reader**: PDF文档解析器
- **Markdown Document Reader**: Markdown文档解析器
- **RAG检索**: 基于商品ID的文档检索机制

### 5. 消息处理技术
- **WebSocket**: 实时双向通信
- **ST模板引擎**: 模板渲染，用于客服角色配置
- **过滤器机制**: 基于商品ID的文档过滤

### 6. 开发工具与辅助技术
- **Lombok**: 简化Java代码，减少样板代码
- **Hutool**: Java工具库，提供各种便捷工具
- **Java 17**: 开发语言版本

### 7. AI高级功能
- **自定义记忆顾问 (CustomizationMemoryAdviser)**: 个性化会话记忆
- **查询重写 (RewriteQueryTransformer)**: 提升检索精度
- **上下文查询增强 (ContextualQueryAugmenter)**: 防止AI幻觉
- **相似度阈值过滤**: 只选择相似度>0.5的结果
- **Top-K检索**: 限制返回前5条最相关结果

### 8. 安全与配置
- **密钥管理**: 使用环境变量管理DASHSCOPE_KEY
- **配置管理**: YAML配置文件管理各种参数

## 架构特点
1. **微服务架构**: 基于Spring Boot的模块化设计
2. **AI驱动**: 集成大语言模型实现智能客服
3. **向量检索**: 结合RAG技术提供准确的领域知识回答
4. **实时通信**: WebSocket实现实时聊天功能
5. **数据隔离**: 基于商品ID的多租户数据隔离
6. **缓存策略**: Redis实现会话和角色信息缓存

## 部署要求
- Java 17+
- MySQL 8.0+
- Redis 6.0+
- Milvus向量数据库
- 阿里云DashScope API密钥